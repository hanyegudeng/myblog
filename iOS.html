<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  iOS - 寒夜孤灯
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="寒夜孤灯" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:www.hanyegudeng.com ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 寒夜孤灯</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">首页</a></li>
    <li><a href="archives.html">目录</a></li>
    <li><a href="about.html">关于</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="iOS.html">iOS</a></li>
        
            <li><a href="Mac.html">Mac</a></li>
        
            <li><a href="PHP.html">PHP</a></li>
        
            <li><a href="Python.html">Python</a></li>
        
            <li><a href="%E6%9D%82%E8%B0%88.html">杂谈</a></li>
        
            <li><a href="%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87.html">疑难杂症</a></li>
        
            <li><a href="Redis.html">Redis</a></li>
        
            <li><a href="React%20Native.html">React Native</a></li>
        
            <li><a href="%E8%BF%90%E7%BB%B4.html">运维</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15036253170711.html">
                
                  <h1>Xcode Build Settings 分析</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>转自：<a href="http://www.jianshu.com/p/0509b438e84e">http://www.jianshu.com/p/0509b438e84e</a></p>

<p>本文主要对xcode中常见的工程配置进行介绍，仅用于记录分享，不做其他用途。</p>

<p>Architectures<br/>
<img src="media/15036253170711/4898159-94d157d9a0e48308.jpg" alt="4898159-94d157d9a0e48308"/></p>

<p>Additional SDKs</p>

<p>在编译的时候需要附加的SDK。</p>

<p>Architectures</p>

<p>支持的处理器架构。支持的指令集越多，就会编译出包含多个指令集代码的数据包，对应生成二进制包就越大，最终目标文件也会变大。</p>

<p>指令集可以参考：<a href="http://www.jianshu.com/p/3fce0bd6f045">http://www.jianshu.com/p/3fce0bd6f045</a></p>

<p>Base SDK</p>

<p>App所能支持的最大iOS版本。Xcode默认会设置为能够支持的最新版本。</p>

<p>Build Acitve Architecture Only</p>

<p>如果此项为YES，则Xcode会根据当前所连接设备的版本只将相应的Architecture编译入app。否则会同时编译“Valid Architectures”中的指令集。</p>

<p>建议在Debug模式下设置为YES，Release模式下设置为NO，加快编译速度。</p>

<p>Supported Platform</p>

<p>app支持的平台。目前可选的有iOS、macOS、tvOS、watchOS。</p>

<p>Valid Architectures<br/>
限制可能被支持的指令集的范围，也就是Xcode编译出来的二进制包类型最终从这些类型产生，而编译出哪种指令集的包，将由Architectures与Valid Architectures（因此这个不能为空）的交集来确定。</p>

<p>知识延伸：lipo</p>

<p>lipo源于mac系统要制作兼容powerpc平台和intel平台的程序。</p>

<p>lipo 是一个在 Mac OS X 中处理通用程序（Universal Binaries）的工具。</p>

<p>用途一：查看二进制所支持的指令集<br/>
<img src="media/15036253170711/4898159-fd5d85f9daae77e4.jpg" alt="4898159-fd5d85f9daae77e4"/></p>

<p>用途二：合并指令集</p>

<p>lipo –create Release-iphoneos/libiphone.a Debig-iphonesimulator/libiphone.a –output libiphone.a</p>

<p>用途三：拆分指令集</p>

<p>lipo SDK.a -thin armv7 -output */SDK.a</p>

<p>Assets<br/>
<img src="media/15036253170711/4898159-da15ccacb10624ab.jpg" alt="4898159-da15ccacb10624ab"/><br/>
Asset Pack Manifest URL Prefix</p>

<p>资源包清单的下载路径URL前缀</p>

<p>Embed Asset Packs In Product Bundle</p>

<p>是否将资源包嵌入产品的bundle中</p>

<p>Enable On Demand Resources</p>

<p>是否开启按需获取资源功能</p>

<p>On Demand Resources Initial Install Tags</p>

<p>按需加载资源时的初始安装资源文件标签</p>

<p>On Demand Resources Prefetch Order</p>

<p>按需加载资源时预加载的标签顺序<br/>
<img src="media/15036253170711/4898159-d76a9e0d8e185455.jpg" alt="4898159-d76a9e0d8e185455"/></p>

<p><img src="media/15036253170711/4898159-461784897deb8c62.jpg" alt="4898159-461784897deb8"/><br/>
Build Locations<br/>
<img src="media/15036253170711/4898159-7884e20d09331fc9.jpg" alt="4898159-7884e20d09331f"/><br/>
Build Products Paths</p>

<p>产品文件和编译中间文件的根目录。产品文件和编译时临时文件都将放在这个目录的子目录中。</p>

<p>Intermediate Build Files Path</p>

<p>编译时临时文件的存放位置。编译中间文件格式为product name+.build，如MyProduct.build。</p>

<p>Per-configuration Build Products Path</p>

<p>当前编译设置下的产品存放位置。</p>

<p>Per-configuration Intermediate Build Files Path</p>

<p>当前编译设置下编译时临时文件的存放位置。</p>

<p>Precompiled Headers Cache Path</p>

<p>预编译头文件缓存存放路径。通过这个配置，Targets可以互相共享预编译的头文件。</p>

<p>这个在Xcode中的设置在File-&gt;Project Setting界面进行设置，<br/>
<img src="media/15036253170711/4898159-dc612f80b6726441.jpg" alt="4898159-dc612f80b6726441"/></p>

<p><img src="media/15036253170711/4898159-312b3ed11579e1ea.jpg" alt="4898159-312b3ed11579e1ea"/><br/>
Build Options</p>

<p><img src="media/15036253170711/4898159-df88ef87e2592cc9.jpg" alt="4898159-df88ef87e2592c"/><br/>
Always Embed Swift Standard Libraries</p>

<p>始终嵌入swift标准库。对于未使用swift代码的情况可以设置为NO。</p>

<p>Build Variants</p>

<p>此项可以设定生成产品的变种。您可以创建额外的产品变种作为特殊用途。例如，您可以使用编译配置文件的名称来创建一个高度定制的二进制文件。</p>

<p>Build Variants的值有三个：</p>

<p>normal-用于生成普通的二进制文件；</p>

<p>profile-用于可以生成配置信息的二进制文件；</p>

<p>debug-用于生成带有debug标志、额外断言和诊断代码的二进制文件。</p>

<p>Compiler For C/C++/Objective-C</p>

<p>选择使用的编译器。目前Xcode8.2默认使用APPLE LLVM 8.0版本的编译器。</p>

<p>Debug Information Format</p>

<p>记录debug信息的文件格式。共有DWARF with dSYM File和DWARF两种可以选择。建议选择DWARF with dSYM File。DWARF是较老的文件格式，会在编译时将debug信息写在执行文件中。</p>

<p>Enable BitCode</p>

<p>Bitcode is an intermediate representation of a compiled program. Apps you upload to iTunes Connect that contain bitcode will be compiled and linked on the App Store. Including bitcode will allow Apple to re-optimize your app binary in the future without the need to submit a new version of your app to the store.</p>

<p>Bitcode. When you archive for submission to the App Store, Xcode will compile your app into an intermediate representation. The App Store will then compile the bitcode down into the 64 or 32 bit executables as necessary.</p>

<p>说的是bitcode是被编译程序的一种中间形式的代码。包含bitcode配置的程序将会在App store上被编译和链接。bitcode允许苹果在后期重新优化我们程序的二进制文件，而不需要我们重新提交一个新的版本到App store上。</p>

<p>当我们提交程序到App store上时，Xcode会将程序编译为一个中间表现形式(bitcode)。然后App store会再将这个botcode编译为可执行的64位或32位程序。</p>

<p>不过，我们现在需要考虑的是三个平台：iOS，Mac OS，watchOS。</p>

<p>对应iOS，bitcode是可选的。</p>

<p>对于watchOS，bitcode是必须的。</p>

<p>Mac OS不支持bitcode。</p>

<p>Enable Testability</p>

<p>是否支持测试。默认选NO；</p>

<p>Generate Profiling Code</p>

<p>是否生成配置代码。默认选择NO。</p>

<p>Precompiled Header Uses Files From Build Directory</p>

<p>预编译build路径中的头文件。由于编译过程比较耗时，且两次编译之间未必会改动所有文件。因此将不会改动的常用文件保留成预编译文件将大大减少编译时的时间。建议这一项选择YES。</p>

<p>Require Only App-Extension-Safe API</p>

<p>如果我们要想应用扩展使用内嵌框架，那么首先要配置一下。将target的Require Only App-Extension-Safe API选项设置为Yes。如果你不这样设置，那么Xcode会向你提示警告：linking against dylib not safe for use in application extensions。</p>

<p>Scan All Source Files for Includes</p>

<p>扫描include文件所包含的所有源文件。</p>

<p>Validate Built Product</p>

<p>这个选项决定了是否在编译的时候进行验证。验证的内容和app store的审查内容一致。默认选项是debug时不验证，release时验证。</p>

<p>Deployment</p>

<p>Headers</p>

<p>Kernel Module</p>

<p>Linking</p>

<p>Search Paths<br/>
<img src="media/15036253170711/4898159-05c3d2fbc1177dcb.jpg" alt="4898159-05c3d2fbc1177dcb"/></p>

<p>Always Search User Path</p>

<p>是否搜索用户指定的路径，默认是NO；</p>

<p>Framework Search Paths</p>

<p>工程引用的framework搜索路径</p>

<p>Header Search Paths</p>

<p>工程中引用的头文件搜索路径</p>

<p>Library Search Paths</p>

<p>library搜索路径，比如静态.a库</p>

<p>Rez Search Paths</p>

<p>This is a list of paths to search for files included by CarbonResource Manager resources and compiled with the Rez tool.</p>

<p>Sub-Directories to Exclude in Recursive Searches<br/>
指定哪些类型的子目录在递归查找时忽略</p>

<p>Sub-Directories to include in Recursive Searches<br/>
指定哪些类型的子目录在递归查找时包含</p>

<p>Use Header Maps<br/>
User Header Search Paths</p>

<p>设置头文件搜索路径，这个只有当Always Search User Path开启后才有效。</p>

<p>signing<br/>
<img src="media/15036253170711/4898159-109e2cfaad3d8e61.jpg" alt="4898159-109e2cfaad3d8e61"/><br/>
Code Signing Entitlements</p>

<p>授权机制。在Xcode的capabilities选项卡下选择一些选项后，Xcode就会生成这样一段XML，Xcode会自动生成一个entitlements文件，然后再需要的时候往里面添加条目。当构建整个应用时，这个文件也会提及给codesign作为应用所需要拥有哪些授权的参考。这些授权信息必须都在开发者中心的AppID中启用，并且包含在配置文件中。</p>

<p>Code Signing Identity</p>

<p>配置证书</p>

<p>Development Team</p>

<p>开发者所在的群组</p>

<p>Other Code Signing Flags</p>

<p>常见的配置为--deep。用法不详。</p>

<p>Provisioning Profile</p>

<p>配置描述文件。</p>

<p>User-Defined<br/>
<img src="media/15036253170711/4898159-ce5b5ce3d3baa606.jpg" alt="4898159-ce5b5ce3d3baa606"/></p>

<p>这里用户可以在debug、release或者自己定义的编译模式下设置不同的变量，可以达到一套代码同时支持多个不同版本的目的。比如可以编译出叫APP1和APP2两个名字不一样的APP。</p>

<p>Packaging<br/>
<img src="media/15036253170711/4898159-d26f0763a4bcd3f1.jpg" alt="4898159-d26f0763a4bcd3f1"/><br/>
Defines Module</p>

<p>是否定义模块。默认app类的工程为NO，framwork工程默认为YES。</p>

<p>Expand Build Setting in Info.plist File</p>

<p>告诉编译器是否处理info.plist。默认是YES。这是一个很大的特点，因为它避免了有根据您的构建设置和配置不同的Info.plist中，避免您在多个地方修改设置。 但是如果你真的不想要它，只需在项目或目标的构建设置中关闭此设置。</p>

<p>Info.plist File</p>

<p>创建工程后默认会创建一个info.plist文件。也可以根据需要进行主动创建。</p>

<p>Private Headers Folder Path</p>

<p>私有头文件的存放位置。</p>

<p>Product Bundle Identifier</p>

<p>产品bundle的标识</p>

<p>Product Module Name</p>

<p>产品模块名称</p>

<p>Product Name</p>

<p>产品名称</p>

<p>Public Headers Folder Path</p>

<p>公共头文件路径</p>

<p>Wrapper Extension</p>

<p>打包的扩展名，默认app。</p>

<p>Preprocessing<br/>
<img src="media/15036253170711/4898159-fd3003b39d067534.jpg" alt="4898159-fd3003b39d067534"/></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/8/25</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='iOS.html'>iOS</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15017301944011.html">
                
                  <h1>iOS应用内跳转到系统设置页面</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p><code>转自：http://www.jianshu.com/p/5d82fb0c4051</code><br/>
在iOS开发中，有时会有跳转系统设置界面的需求，例如提示用户打开蓝牙或者WIFI，提醒用户打开推送或者位置权限等。在iOS6之后，第三方应用需要跳转系统设置界面，需要在URL type中添加一个Prefs值，如下图：<br/>
需要设置Prefs</p>

<p>***注意 之前Prefs为prefs ，小写，现在P为大写</p>

<p><img src="media/15017301944011/1151129-95391d4fb99a8e8c.png" alt="1151129-95391d4fb99a8e8"/></p>

<p>设置跳转有三种方式，每一种的使用场景都不同。 并且你在跳转到系统中自己应用下面设置的时候，你的应用要提前至少申请了某一个权限，如通知，定位等。否则，会引起崩溃。</p>

<p><code>方式一：prefs:root=某项服务<br/>
方式二：prefs:root=bundleID<br/>
方式三： UIApplicationOpenSettingsURLString<br/>
本篇针对iOS7、iOS8、iOS9、iOS10，来介绍其中区别。</code></p>

<p>一、跳转方法</p>

<p>当iOS系统版本 &lt; iOS 10.0 时</p>

<pre><code>NSURL *url= [NSURL URLWithString:@&quot;prefs:root=LOCATION_SERVICES&quot;];
if( [[UIApplication sharedApplication]canOpenURL:url] ) {
 [[UIApplication sharedApplication]openURL:url];
}
</code></pre>

<p>当iOS系统版本 &gt;=iOS 10.0 时</p>

<pre><code>if( [[UIApplication sharedApplication]canOpenURL:url] ) {
[[UIApplication sharedApplication]openURL:url options:@{}completionHandler:^(BOOL  success) {

}];
}

</code></pre>

<p>二、跳转到哪里去？(系统的设置，系统中自己应用下面的设置)<br/>
方式一：</p>

<p>当 iOS系统版本 &lt;= iOS7时 , 只能跳转到 系统设置页面</p>

<pre><code>NSURL *url= [NSURL URLWithString:@&quot;prefs:root=LOCATION_SERVICES&quot;];
</code></pre>

<p><code>跳转到: 隐私-定位服务。<br/>
prefs:root=某项服务<br/>
系统设置:prefs:root=INTERNET_TETHERING<br/>
WIFI设置:prefs:root=WIFI<br/>
蓝牙设置:prefs:root=Bluetooth<br/>
系统通知:prefs:root=NOTIFICATIONS_ID<br/>
通用设置:prefs:root=General<br/>
显示设置:prefs:root=DISPLAY&amp;BRIGHTNESS<br/>
壁纸设置:prefs:root=Wallpaper<br/>
声音设置:prefs:root=Sounds<br/>
隐私设置:prefs:root=privacy<br/>
蜂窝网路:prefs:root=MOBILE_DATA_SETTINGS_ID<br/>
音乐:prefs:root=MUSIC<br/>
APP Store:prefs:root=STORE<br/>
Notes:prefs:root=NOTES<br/>
Safari:prefs:root=Safari<br/>
Music:prefs:root=MUSIC<br/>
photo&quot;:prefs:root=Photos<br/>
这种跳转方式，都是跳转到系统的设置界面。<br/>
</code></p>

<p>方式二 :</p>

<p>当 iOS系统版本 &gt;= iOS8 ，支持跳转到第三方应用的设置界面中<br/>
使用prefs:root=bundleID ,bundleID是你第三方应用工程的唯一ID<br/>
局限性：只支持iOS8,iOS9系统,在iOS10系统上，不会跳转。<br/>
在iOS7系统上，仅仅只是跳转到设置应用，不推荐使用。</p>

<pre><code>如果需要继续向项目内层进行跳转，可以通过添加path路径的方式，如下：
关于本机:prefs:root=General&amp;path=About
软件升级:prefs:root=General&amp;path=SOFTWARE_UPDATE_LINK
日期时间:prefs:root=General&amp;path=DATE_AND_TIME
Accessibility:prefs:root=General&amp;path=ACCESSIBILITY
键盘设置:prefs:root=General&amp;path=Keyboard
VPN:prefs:root=General&amp;path=VPN
壁纸设置:@&quot;prefs:root=Wallpaper
声音设置:prefs:root=Sounds
隐私设置:prefs:root=privacy
APP Store:prefs:root=STORE
还原设置:prefs:root=General&amp;path=Reset
应用通知:prefs:root=NOTIFICATIONS_ID&amp;path=应用的boundleId
定位：prefs:root=LOCATION_SERVICES
蜂窝网络：prefs:root=MOBILE_DATA_SETTINGS_ID
VPN — prefs:root=General&amp;path=Network/VPN
Wi-Fi：prefs:root=WIFI
定位服务：prefs:root=LOCATION_SERVICES
个人热点：prefs:root=INTERNET_TETHERING
辅助功能：prefs:root=General&amp;path=ACCESSIBILITY
飞行模式：prefs:root=AIRPLANE_MODE
锁定：prefs:root=General&amp;path=AUTOLOCK
亮度：prefs:root=Brightness
蓝牙：prefs:root=General&amp;path=Bluetooth
时间设置：prefs:root=General&amp;path=DATE_AND_TIME
FaceTime：prefs:root=FACETIME
设置：prefs:root=General
键盘设置：prefs:root=General&amp;path=Keyboard
iCloud：prefs:root=CASTLE
iCloud备份：prefs:root=CASTLE&amp;path=STORAGE_AND_BACKUP
语言：prefs:root=General&amp;path=INTERNATIONAL
音乐：prefs:root=MUSIC
Music Equalizer — prefs:root=MUSIC&amp;path=EQ
Music Volume Limit — prefs:root=MUSIC&amp;path=VolumeLimit
Network — prefs:root=General&amp;path=Network
Nike + iPod — prefs:root=NIKE_PLUS_IPOD
Notes — prefs:root=NOTES
Notification — prefs:root=NOTIFICATIONS_ID
Phone — prefs:root=Phone
Photos — prefs:root=Photos
Profile — prefs:root=General&amp;path=ManagedConfigurationList
Reset — prefs:root=General&amp;path=Reset
Safari — prefs:root=Safari
Siri — prefs:root=General&amp;path=Assistant
Sounds — prefs:root=Sounds
Software Update — prefs:root=General&amp;path=SOFTWARE_UPDATE_LINK
Store — prefs:root=STORE
Twitter — prefs:root=TWITTER
Usage — prefs:root=General&amp;path=USAGE
Wallpaper — prefs:root=Wallpaper

</code></pre>

<p>方式三<br/>
当 iOS系统版本 &gt;= iOS8，支持跳转到自己应用设置，不支持跳转到系统设置</p>

<pre><code>NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];
</code></pre>

<p>UIApplicationOpenSettingsURLString字段，是在iOS8上才提供的，支持iOS8,iOS9,iOS10系统，推荐使用。</p>

<p>当iOS系统版本&gt;= iOS10，支持跳转到自己应用设置，不支持跳转到系统设置</p>

<pre><code>NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString]; 
</code></pre>

<p>跳转。<br/>
而 prefs:root=bundleID和 prefs:root=服务 都将不起作用。</p>

<p>总结一下:</p>

<p>方式一：prefs:root=某项服务 适用于 小于 iOS10的系统；<br/>
方式二：prefs:root=bundleID 适用于 大于等于iOS8系统，小于iOS10的系统<br/>
方式三：UIApplicationOpenSettingsURLString 适用于 大于等于iOS8的系统</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/8/3</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='iOS.html'>iOS</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15017289646320.html">
                
                  <h1>iOS APP提交审核被拒因Guideline 2.5.2 - Performance - Software Requirements</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>如果找不到原因试试这个方法<br/>
找到打包的ipa文件，找到对应的执行文件，copy一个出来<br/>
运行下面命令</p>

<pre><code>nm -n xxx(可执行文件或者.a) &gt;&gt; a.txt
</code></pre>

<p>搜索a.txt里面是否有dlopen(), dlsym()。如果有，就要查看对应的第三方.a那个有，然后更新或者删除。再重新提交</p>

<p>后续：<br/>
这个检测过又被拒了，还是一样的原因。没辙，只好苦苦哀求苹果大大，问原因了，还好，告诉我了，是用了fir.im的接口。我哭了。很早测试的时候用了fir.im的自动更新接口，没想到埋了这么大一个地雷。fir.im进了苹果的黑名单，也没通知，就这么悲催了。移除fir.im的任何东西，审核通过（等了2周）</p>

<p>再续：<br/>
后面又提交了一个版本，还想着还会2周呢，没想到隔天就过了。😄</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/8/3</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='iOS.html'>iOS</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14966306832048.html">
                
                  <h1>Swift使用pod找不到文件的解决方案</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>遇到提示 .pcm 文件 outdate 的情况下需要你删除 $HOME/Library/Developer/Xcode/DerivedData/ModuleCache 目录，这个目录保存的是预编译模块，类似于预编译头文件。</p>

<p>目前 Swift 还是有很多 BUG 的，调用 NSObject 也许会让编译器直接 segment fault ，不带任何出错信息。很伤情。此时请第一时间检查语法是否有诡异，其次将所有用到字符串或者 Optional 的地方都额外用变量处理，避免用字面常量。（个人经验）</p>

<p>如果多次调用 pod install 并在其中修改过 Podfile，那么有可能你的项目依赖会乱掉，多了不存在的 .a 文件到依赖或者多次包含。手工在项目树和项目选项里删除就可以了。此类编译错误都是链接错误。</p>

<p>build setting —&gt;Framework Search Paths<br/>
add \((inherited),\)(SRCROOT)</p>

<p>/Users/xxx/Library/Developer/Xcode/DerivedData/ModuleCache/ </p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/6/5</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='iOS.html'>iOS</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="14942311266949.html">
                
                  <h1>iOS监听键盘的删除按键事件</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p><strong>原文地址：<a href="http://blog.csdn.net/que_li/article/details/50586702">http://blog.csdn.net/que_li/article/details/50586702</a></strong></p>

<p>需求场景描述 <br/>
最近项目里有个场景，搜索添加成员的时候，需要类似于微信创建讨论组加人时的效果：启动搜索输入文本，点击删除文本，当文本全删除完的时候，在点击删除按键，可以删除选中的人，或者取消搜索状态。</p>

<p>技术要点 <br/>
这里，最主要的难点就是监听键盘删除键的点击事件。不管你用的是UITextView还是UITextField，当它们本身没有内容的时候点击删除按键，其实delegate是没有任何响应的，这里就需要我们用其它的办法监听到点击事件。</p>

<p>实现过程 <br/>
查看API我们不难发现，其实系统是有事件抛出来的：</p>

<pre><code> @protocol UIKeyInput &lt;UITextInputTraits&gt;

    - (BOOL)hasText;
    - (void)insertText:(NSString *)text;
    - (void)deleteBackward;

    @end
</code></pre>

<p>所以，我们现在要做的就是实现这个协议，拿到deleteBackward的回调。 <br/>
不过这个协议已经被UITextField实现了：</p>

<pre><code>    NS_CLASS_AVAILABLE_IOS(2_0) @interface UITextField : UIControl &lt;UITextInput, NSCoding&gt; 

</code></pre>

<p>但是UITextFieldDelegate并没有抛出来。 <br/>
所以，我们要做的就是从UITextField里面抛出这个协议。 <br/>
自定义一个类，继承UITextField  </p>

<pre><code>#import &lt;UIKit/UIKit.h&gt;

@protocol keyInputTextFieldDelegate &lt;NSObject&gt;

- (void) deleteBackward;

@end

@interface UITextFieldKeybordDelete : UITextField
@property (nonatomic,weak) id&lt;keyInputTextFieldDelegate&gt;keyInputDelegate;
@end
</code></pre>

<pre><code>#import &quot;UITextFieldKeybordDelete.h&quot;

@implementation UITextFieldKeybordDelete

/*
// Only override drawRect: if you perform custom drawing.
// An empty implementation adversely affects performance during animation.
- (void)drawRect:(CGRect)rect {
    // Drawing code
}
*/

- (void) deleteBackward{
    [super deleteBackward];
    
    if (_keyInputDelegate &amp;&amp; [_keyInputDelegate respondsToSelector:@selector(deleteBackward)]) {
        [_keyInputDelegate deleteBackward];
    }
    
}

@end
</code></pre>

<p>到此，我们已经能知道键盘的删除事件了，后面需要做什么逻辑，直接在deleteBackward回调里做就OK！</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/5/8</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='iOS.html'>iOS</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="iOS_1.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>寒夜孤灯</h1>
                <div class="site-des">寒夜里的一盏孤灯</div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>分类</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="iOS.html"><strong>iOS</strong></a>
        
            <a href="Mac.html"><strong>Mac</strong></a>
        
            <a href="PHP.html"><strong>PHP</strong></a>
        
            <a href="Python.html"><strong>Python</strong></a>
        
            <a href="%E6%9D%82%E8%B0%88.html"><strong>杂谈</strong></a>
        
            <a href="%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87.html"><strong>疑难杂症</strong></a>
        
            <a href="Redis.html"><strong>Redis</strong></a>
        
            <a href="React%20Native.html"><strong>React Native</strong></a>
        
            <a href="%E8%BF%90%E7%BB%B4.html"><strong>运维</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>最新文章</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15036253170711.html">Xcode Build Settings 分析</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15030458956017.html">发现女儿早恋，这个爸爸的做法刷爆朋友圈！</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15017301944011.html">iOS应用内跳转到系统设置页面</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15017289646320.html">iOS APP提交审核被拒因Guideline 2.5.2 - Performance - Software Requirements</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14966306832048.html">Swift使用pod找不到文件的解决方案</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2017
通过 <a target="_blank" href="http://www.mweb.im">MWeb</a>制作&nbsp; <a target="_blank" href="http://www.miitbeian.gov.cn/">沪ICP备15015428号-1</a>&nbsp; 
</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    



  </body>
</html>
